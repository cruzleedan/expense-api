-- Seed Users & Data for Expense API v5.0
-- Password for all test users: "Test123!" (hashed with scrypt)
--
-- This seed file provides realistic data for LLM front-end development:
--   • 9 users across roles with department/manager hierarchy
--   • 12 expense reports in various statuses (draft → posted)
--   • 60+ expense lines spanning 6 months with varied categories, merchants, payment methods
--   • Anomaly flags, recurring expenses, project associations, tags
--   • Pre-computed spending summaries for trend analysis
--   • Budget entries for variance analysis
--   • Sample anomaly records and LLM insights

-- ============================================================================
-- USERS (with department, cost center, manager hierarchy, LLM preferences)
-- ============================================================================

INSERT INTO users (id, email, username, first_name, last_name, password_hash, is_active, manager_id, is_verified, department_id, cost_center, spending_profile, llm_preferences) VALUES
('00000000-0000-4000-a000-000000000001', 'superadmin@test.local', 'superadmin@test.local', 'Alice', 'SuperAdmin', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, NULL, true, NULL, NULL, '{}', '{}'),
('00000000-0000-4000-a000-000000000002', 'admin@test.local', 'admin@test.local', 'Bob', 'Administrator', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, NULL, true, '00000000-0000-4000-c001-000000000001', 'CC-ENG', '{}', '{}'),
('00000000-0000-4000-a000-000000000003', 'finance@test.local', 'finance@test.local', 'Carol', 'Finance', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, NULL, true, '00000000-0000-4000-c001-000000000003', 'CC-FIN', '{"avg_monthly": 450, "top_categories": ["Office Supplies", "Technology"], "typical_range": [10, 200]}', '{"default_period_months": 6, "dashboard_widgets": ["spending_trend", "budget_status", "anomalies"]}'),
('00000000-0000-4000-a000-000000000004', 'manager@test.local', 'manager@test.local', 'David', 'Manager', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, NULL, true, '00000000-0000-4000-c002-000000000001', 'CC-ENG', '{"avg_monthly": 2200, "top_categories": ["Travel", "Meals & Entertainment"], "typical_range": [25, 800]}', '{"default_period_months": 3, "pinned_categories": ["Travel"], "dashboard_widgets": ["team_spending", "anomalies", "pending_approvals"]}'),
('00000000-0000-4000-a000-000000000005', 'employee@test.local', 'employee@test.local', 'Emma', 'Employee', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, '00000000-0000-4000-a000-000000000004', true, '00000000-0000-4000-c002-000000000001', 'CC-ENG', '{"avg_monthly": 1800, "top_categories": ["Travel", "Technology", "Meals & Entertainment"], "typical_range": [15, 500]}', '{"default_currency": "USD", "default_period_months": 3, "dashboard_widgets": ["spending_trend", "category_breakdown"]}'),
('00000000-0000-4000-a000-000000000006', 'employee2@test.local', 'employee2@test.local', 'Frank', 'Worker', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, '00000000-0000-4000-a000-000000000004', true, '00000000-0000-4000-c002-000000000004', 'CC-SALES', '{"avg_monthly": 3100, "top_categories": ["Travel", "Meals & Entertainment", "Transportation"], "typical_range": [20, 1200]}', '{"default_period_months": 1, "pinned_categories": ["Travel", "Meals & Entertainment"], "dashboard_widgets": ["spending_trend", "project_spending"]}'),
('00000000-0000-4000-a000-000000000007', 'auditor@test.local', 'auditor@test.local', 'Grace', 'Auditor', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, NULL, true, '00000000-0000-4000-c001-000000000003', 'CC-FIN', '{}', '{"dashboard_widgets": ["anomalies", "policy_violations", "org_spending"]}'),
('00000000-0000-4000-a000-000000000008', 'inactive@test.local', 'inactive@test.local', 'Henry', 'Inactive', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', false, '00000000-0000-4000-a000-000000000004', true, '00000000-0000-4000-c002-000000000002', 'CC-ENG', '{}', '{}'),
('00000000-0000-4000-a000-000000000009', 'multirole@test.local', 'multirole@test.local', 'Isabel', 'Hybrid', '8b8eebba2186c521d8d7e028b286bbdf:274df02f29c6bf80ce34473391d093879e7c5b84887b2a400140be9fafb34b26c75d746ee87f79f358e6bc7d03449c2af83cf1a85ed300fc3a8352dda697c3e5', true, NULL, true, '00000000-0000-4000-c001-000000000003', 'CC-FIN', '{"avg_monthly": 800, "top_categories": ["Office Supplies", "Training & Education"], "typical_range": [10, 300]}', '{"dashboard_widgets": ["spending_trend", "budget_status"]}')
ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- ROLE ASSIGNMENTS
-- ============================================================================

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000001', id FROM roles WHERE name = 'super_admin'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000002', id FROM roles WHERE name = 'admin'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000003', id FROM roles WHERE name = 'finance'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000004', id FROM roles WHERE name = 'approver'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000005', id FROM roles WHERE name = 'employee'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000006', id FROM roles WHERE name = 'employee'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000007', id FROM roles WHERE name = 'auditor'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000008', id FROM roles WHERE name = 'employee'
ON CONFLICT DO NOTHING;

-- multirole user has both approver and finance roles
INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000009', id FROM roles WHERE name = 'approver'
ON CONFLICT DO NOTHING;

INSERT INTO user_roles (user_id, role_id)
SELECT '00000000-0000-4000-a000-000000000009', id FROM roles WHERE name = 'finance'
ON CONFLICT DO NOTHING;

-- ============================================================================
-- EXPENSE REPORTS
-- Covers: draft, submitted, approved, posted, rejected, returned statuses
-- Spans: Aug 2025 – Jan 2026 (6 months of data)
-- Users: Emma (employee), Frank (sales), David (manager), Isabel (multirole)
-- ============================================================================

INSERT INTO expense_reports (id, user_id, title, description, status, department_id, department_name, cost_center, project_id, project_name, client_name, tags, total_amount, net_amount, currency, line_count, category_breakdown, top_category, report_date, period_start, period_end, submitted_at, approved_at, posted_at, processing_time_hours, is_over_budget, budget_variance_pct, ai_summary, version) VALUES

-- Emma's reports (employee, Backend Engineering)
('00000000-0000-4000-e001-000000000001', '00000000-0000-4000-a000-000000000005', 'NYC Client Visit - Acme Corp', 'On-site meetings with Acme Corp engineering team for Project Alpha kickoff', 'posted', '00000000-0000-4000-c002-000000000001', 'Backend', 'CC-ENG', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['client-visit', 'q3-2025', 'billable'], 2847.50, 2847.50, 'USD', 7, '{"Travel": 1650.00, "Meals & Entertainment": 547.50, "Transportation": 650.00}', 'Travel', '2025-08-20', '2025-08-18', '2025-08-22', '2025-08-23 09:30:00+00', '2025-08-24 14:15:00+00', '2025-08-26 10:00:00+00', 28.75, false, -5.20, 'NYC business trip for Acme Corp Project Alpha kickoff. 3-night stay at Hilton Midtown, round-trip flights, client dinners, and local transportation.', 1),

('00000000-0000-4000-e001-000000000002', '00000000-0000-4000-a000-000000000005', 'September Tech & Subscriptions', 'Monthly software subscriptions and development tools', 'approved', '00000000-0000-4000-c002-000000000001', 'Backend', 'CC-ENG', NULL, NULL, NULL, ARRAY['recurring', 'software', 'monthly'], 487.94, 487.94, 'USD', 5, '{"Technology": 487.94}', 'Technology', '2025-09-30', '2025-09-01', '2025-09-30', '2025-10-01 08:00:00+00', '2025-10-02 11:30:00+00', NULL, 27.50, false, NULL, 'Monthly recurring tech subscriptions: GitHub Copilot, AWS dev account, JetBrains, Figma, and Notion team plan.', 1),

('00000000-0000-4000-e001-000000000003', '00000000-0000-4000-a000-000000000005', 'Chicago Conference - DevOps Days', 'DevOps Days Chicago 2025 attendance', 'approved', '00000000-0000-4000-c002-000000000001', 'Backend', 'CC-ENG', NULL, NULL, NULL, ARRAY['conference', 'training', 'q4-2025'], 1925.00, 1925.00, 'USD', 5, '{"Travel": 1180.00, "Training & Education": 495.00, "Meals & Entertainment": 250.00}', 'Travel', '2025-10-22', '2025-10-20', '2025-10-22', '2025-10-23 10:00:00+00', '2025-10-25 09:00:00+00', NULL, 47.00, false, -2.10, 'DevOps Days Chicago conference. Includes airfare, 2-night hotel, conference ticket, and team dinner.', 1),

('00000000-0000-4000-e001-000000000004', '00000000-0000-4000-a000-000000000005', 'December Expenses', 'End of year office supplies and team lunch', 'submitted', '00000000-0000-4000-c002-000000000001', 'Backend', 'CC-ENG', '00000000-0000-4000-d001-000000000003', 'Project Gamma', 'Meridian Health Systems', ARRAY['end-of-year', 'team'], 342.15, 342.15, 'USD', 4, '{"Office Supplies": 127.15, "Meals & Entertainment": 215.00}', 'Meals & Entertainment', '2025-12-18', '2025-12-01', '2025-12-18', '2025-12-19 09:00:00+00', NULL, NULL, NULL, false, NULL, 'December office supplies purchase and team holiday lunch for the Gamma project team.', 1),

('00000000-0000-4000-e001-000000000005', '00000000-0000-4000-a000-000000000005', 'January Draft - WIP', 'Work in progress expenses', 'draft', '00000000-0000-4000-c002-000000000001', 'Backend', 'CC-ENG', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['wip'], 156.50, 156.50, 'USD', 2, '{"Meals & Entertainment": 86.50, "Transportation": 70.00}', 'Meals & Entertainment', '2026-01-10', '2026-01-06', '2026-01-10', NULL, NULL, NULL, NULL, false, NULL, NULL, 1),

-- Frank's reports (sales employee, high-travel)
('00000000-0000-4000-e002-000000000001', '00000000-0000-4000-a000-000000000006', 'Q3 West Coast Client Tour', 'Week-long client visits to SF, LA, and Seattle', 'posted', '00000000-0000-4000-c002-000000000004', 'North America', 'CC-SALES', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-tour', 'west-coast', 'q3-2025', 'billable'], 5670.25, 5670.25, 'USD', 12, '{"Travel": 3450.00, "Meals & Entertainment": 1285.25, "Transportation": 935.00}', 'Travel', '2025-09-12', '2025-09-08', '2025-09-12', '2025-09-13 08:00:00+00', '2025-09-15 16:00:00+00', '2025-09-17 09:00:00+00', 56.00, true, 13.40, 'West Coast client tour covering San Francisco, Los Angeles, and Seattle. 5 client meetings, 4-night hotel stays, multiple client dinners and flights.', 1),

('00000000-0000-4000-e002-000000000002', '00000000-0000-4000-a000-000000000006', 'October Sales Summit Expenses', 'Annual sales summit attendance and client entertainment', 'approved', '00000000-0000-4000-c002-000000000004', 'North America', 'CC-SALES', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit', 'annual', 'q4-2025'], 3215.80, 3215.80, 'USD', 8, '{"Travel": 1850.00, "Meals & Entertainment": 965.80, "Transportation": 400.00}', 'Travel', '2025-10-28', '2025-10-25', '2025-10-28', '2025-10-29 10:00:00+00', '2025-10-31 14:00:00+00', NULL, 52.00, false, -8.50, 'Sales Summit 2025 in Las Vegas. Flights, hotel, client entertainment dinners, and ground transportation.', 1),

('00000000-0000-4000-e002-000000000003', '00000000-0000-4000-a000-000000000006', 'November Client Dinners', 'Multiple client entertainment meals', 'rejected', '00000000-0000-4000-c002-000000000004', 'North America', 'CC-SALES', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-entertainment', 'rejected'], 892.50, 892.50, 'USD', 3, '{"Meals & Entertainment": 892.50}', 'Meals & Entertainment', '2025-11-20', '2025-11-10', '2025-11-20', '2025-11-21 09:00:00+00', NULL, NULL, NULL, true, 48.60, 'Three client entertainment dinners in November. REJECTED: Missing attendee list and business justification for $350 dinner.', 1),

('00000000-0000-4000-e002-000000000004', '00000000-0000-4000-a000-000000000006', 'December Travel - PFG Closeout', 'Final trip for Project Delta closeout with Pinnacle Financial', 'submitted', '00000000-0000-4000-c002-000000000004', 'North America', 'CC-SALES', '00000000-0000-4000-d001-000000000006', 'Project Delta', 'Pinnacle Financial Group', ARRAY['project-closeout', 'billable'], 1845.00, 1845.00, 'USD', 5, '{"Travel": 1295.00, "Meals & Entertainment": 350.00, "Transportation": 200.00}', 'Travel', '2025-12-15', '2025-12-10', '2025-12-13', '2025-12-16 08:00:00+00', NULL, NULL, NULL, false, NULL, 'Project Delta closeout trip to Pinnacle Financial Group in Boston. Final presentations and handoff meetings.', 1),

-- David's reports (manager)
('00000000-0000-4000-e003-000000000001', '00000000-0000-4000-a000-000000000004', 'Q4 Team Offsite', 'Engineering team offsite planning and meals', 'posted', '00000000-0000-4000-c002-000000000001', 'Backend', 'CC-ENG', '00000000-0000-4000-d001-000000000004', 'Internal DevOps Modernization', NULL, ARRAY['team-offsite', 'q4-2025', 'non-billable'], 1580.00, 1580.00, 'USD', 6, '{"Meals & Entertainment": 780.00, "Transportation": 350.00, "Office Supplies": 450.00}', 'Meals & Entertainment', '2025-11-15', '2025-11-12', '2025-11-15', '2025-11-16 09:00:00+00', '2025-11-17 10:00:00+00', '2025-11-18 09:00:00+00', 25.00, false, -15.00, 'Engineering team offsite: team dinner, supplies for workshop, and transportation for 8 team members.', 1),

-- Isabel's reports (multirole - approver + finance)
('00000000-0000-4000-e004-000000000001', '00000000-0000-4000-a000-000000000009', 'Training - Advanced Excel & Analytics', 'Professional development course and materials', 'approved', '00000000-0000-4000-c001-000000000003', 'Finance', 'CC-FIN', NULL, NULL, NULL, ARRAY['training', 'professional-development'], 695.00, 695.00, 'USD', 3, '{"Training & Education": 595.00, "Office Supplies": 100.00}', 'Training & Education', '2025-11-30', '2025-11-25', '2025-11-30', '2025-12-01 08:00:00+00', '2025-12-02 15:00:00+00', NULL, 31.00, false, NULL, 'Advanced Excel and data analytics certification course plus reference books.', 1),

('00000000-0000-4000-e004-000000000002', '00000000-0000-4000-a000-000000000009', 'December Office & Software', 'Monthly office supplies and software renewals', 'returned', '00000000-0000-4000-c001-000000000003', 'Finance', 'CC-FIN', NULL, NULL, NULL, ARRAY['monthly', 'returned-for-correction'], 234.50, 234.50, 'USD', 3, '{"Office Supplies": 84.50, "Technology": 150.00}', 'Technology', '2025-12-20', '2025-12-01', '2025-12-20', '2025-12-21 09:00:00+00', NULL, NULL, NULL, false, NULL, 'Monthly office supplies and software. RETURNED: Missing receipt for $150 software renewal.', 1)

ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- EXPENSE LINES
-- Realistic expenses with categories, merchants, payment methods, tags,
-- project associations, recurring flags, and anomaly metadata
-- ============================================================================

INSERT INTO expense_lines (id, report_id, description, amount, currency, category_id, category, category_code, category_path, transaction_date, merchant_name, merchant_category, location_city, location_country, payment_method, project_id, project_name, client_name, tags, is_recurring, recurrence_group_id, recurrence_pattern, recurrence_merchant, is_anomaly, anomaly_score, anomaly_reasons) VALUES

-- === rpt-emma-001: NYC Client Visit (7 lines) ===
('00000000-0000-4000-f001-000000000001', '00000000-0000-4000-e001-000000000001', 'Round-trip flight JFK - SFO to NYC', 485.00, 'USD', '00000000-0000-4000-b002-000000000001', 'Airfare', 'TRAVEL-AIR', 'Travel > Airfare', '2025-08-18', 'United Airlines', 'airline', 'New York', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['billable', 'client-travel'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f001-000000000002', '00000000-0000-4000-e001-000000000001', 'Hilton Midtown NYC - 3 nights', 897.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-08-18', 'Hilton Hotels', 'hotel', 'New York', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['billable', '3-nights'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f001-000000000003', '00000000-0000-4000-e001-000000000001', 'Uber rides to/from JFK and client office', 178.50, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-08-18', 'Uber', 'rideshare', 'New York', 'US', 'personal_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f001-000000000004', '00000000-0000-4000-e001-000000000001', 'Team dinner with Acme engineering leads', 268.00, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-08-19', 'Nobu Downtown', 'restaurant', 'New York', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['client-dinner', '4-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f001-000000000005', '00000000-0000-4000-e001-000000000001', 'Lunch with project stakeholders', 142.50, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-08-20', 'The Smith Restaurant', 'restaurant', 'New York', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['client-lunch', '3-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f001-000000000006', '00000000-0000-4000-e001-000000000001', 'Solo dinner near hotel', 47.00, 'USD', '00000000-0000-4000-b002-000000000007', 'Individual Meals', 'MEALS-SOLO', 'Meals & Entertainment > Individual Meals', '2025-08-21', 'Shake Shack', 'restaurant', 'New York', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['solo-meal'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f001-000000000007', '00000000-0000-4000-e001-000000000001', 'Airport parking SFO long-term lot', 830.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-08-22', 'SFO Airport Parking', 'parking', 'San Francisco', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['parking'], false, NULL, NULL, NULL, true, 0.8500, ARRAY['unusual_amount', 'exceeds_typical_range']),

-- === rpt-emma-002: September Tech Subscriptions (5 lines, all recurring) ===
('00000000-0000-4000-f002-000000000001', '00000000-0000-4000-e001-000000000002', 'GitHub Copilot Business - Monthly', 19.00, 'USD', '00000000-0000-4000-b002-000000000008', 'Software & SaaS', 'TECH-SW', 'Technology > Software & SaaS', '2025-09-01', 'GitHub', 'software', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['subscription', 'dev-tools'], true, '00000000-0000-4000-a701-000000000001', 'monthly', 'GitHub', false, NULL, NULL),
('00000000-0000-4000-f002-000000000002', '00000000-0000-4000-e001-000000000002', 'AWS Dev/Test Account - September', 156.94, 'USD', '00000000-0000-4000-b002-000000000010', 'Cloud Services', 'TECH-CLOUD', 'Technology > Cloud Services', '2025-09-01', 'Amazon Web Services', 'cloud', NULL, 'US', 'corporate_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['subscription', 'cloud', 'billable'], true, '00000000-0000-4000-a701-000000000002', 'monthly', 'Amazon Web Services', false, NULL, NULL),
('00000000-0000-4000-f002-000000000003', '00000000-0000-4000-e001-000000000002', 'JetBrains IntelliJ IDEA Ultimate - Monthly', 24.90, 'USD', '00000000-0000-4000-b002-000000000008', 'Software & SaaS', 'TECH-SW', 'Technology > Software & SaaS', '2025-09-01', 'JetBrains', 'software', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['subscription', 'dev-tools'], true, '00000000-0000-4000-a701-000000000003', 'monthly', 'JetBrains', false, NULL, NULL),
('00000000-0000-4000-f002-000000000004', '00000000-0000-4000-e001-000000000002', 'Figma Professional - Team plan', 75.00, 'USD', '00000000-0000-4000-b002-000000000008', 'Software & SaaS', 'TECH-SW', 'Technology > Software & SaaS', '2025-09-03', 'Figma', 'software', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['subscription', 'design-tools'], true, '00000000-0000-4000-a701-000000000004', 'monthly', 'Figma', false, NULL, NULL),
('00000000-0000-4000-f002-000000000005', '00000000-0000-4000-e001-000000000002', 'Notion Team Plan - Monthly', 212.10, 'USD', '00000000-0000-4000-b002-000000000008', 'Software & SaaS', 'TECH-SW', 'Technology > Software & SaaS', '2025-09-05', 'Notion', 'software', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['subscription', 'productivity'], true, '00000000-0000-4000-a701-000000000005', 'monthly', 'Notion', false, NULL, NULL),

-- === rpt-emma-003: Chicago Conference (5 lines) ===
('00000000-0000-4000-f003-000000000001', '00000000-0000-4000-e001-000000000003', 'Round-trip flight ORD - DevOps Days', 380.00, 'USD', '00000000-0000-4000-b002-000000000001', 'Airfare', 'TRAVEL-AIR', 'Travel > Airfare', '2025-10-20', 'Southwest Airlines', 'airline', 'Chicago', 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['conference'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f003-000000000002', '00000000-0000-4000-e001-000000000003', 'Palmer House Hilton - 2 nights', 598.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-10-20', 'Palmer House Hilton', 'hotel', 'Chicago', 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['conference', '2-nights'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f003-000000000003', '00000000-0000-4000-e001-000000000003', 'DevOps Days Chicago 2025 - Conference ticket', 495.00, 'USD', '00000000-0000-4000-b001-000000000007', 'Training & Education', 'TRAINING', 'Training & Education', '2025-10-20', 'DevOps Days', 'conference', 'Chicago', 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['conference', 'ticket'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f003-000000000004', '00000000-0000-4000-e001-000000000003', 'Speaker dinner - team of 4 attendees', 202.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-10-21', 'The Purple Pig', 'restaurant', 'Chicago', 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['conference', 'team-dinner'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f003-000000000005', '00000000-0000-4000-e001-000000000003', 'Lyft rides to/from ORD and venue', 250.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-10-22', 'Lyft', 'rideshare', 'Chicago', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['conference', 'ground-transport'], false, NULL, NULL, NULL, true, 0.6200, ARRAY['unusual_amount']),

-- === rpt-emma-004: December Expenses (4 lines) ===
('00000000-0000-4000-f004-000000000001', '00000000-0000-4000-e001-000000000004', 'Ergonomic keyboard - Kinesis Advantage360', 449.00, 'USD', '00000000-0000-4000-b002-000000000009', 'Hardware', 'TECH-HW', 'Technology > Hardware', '2025-12-05', 'Amazon', 'electronics', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['ergonomic', 'equipment'], false, NULL, NULL, NULL, true, 0.7800, ARRAY['unusual_amount', 'unusual_category']),
('00000000-0000-4000-f004-000000000002', '00000000-0000-4000-e001-000000000004', 'Sticky notes, pens, and whiteboard markers', 42.15, 'USD', '00000000-0000-4000-b001-000000000003', 'Office Supplies', 'OFFICE', 'Office Supplies', '2025-12-10', 'Staples', 'office_supply', NULL, 'US', 'personal_card', '00000000-0000-4000-d001-000000000003', 'Project Gamma', 'Meridian Health Systems', ARRAY['supplies'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f004-000000000003', '00000000-0000-4000-e001-000000000004', 'Notebook and planning materials', 85.00, 'USD', '00000000-0000-4000-b001-000000000003', 'Office Supplies', 'OFFICE', 'Office Supplies', '2025-12-12', 'Leuchtturm1917', 'office_supply', NULL, 'US', 'personal_card', NULL, NULL, NULL, ARRAY['supplies', 'planning'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f004-000000000004', '00000000-0000-4000-e001-000000000004', 'Holiday team lunch - Gamma project team', 215.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-12-16', 'Olive Garden', 'restaurant', NULL, 'US', 'corporate_card', '00000000-0000-4000-d001-000000000003', 'Project Gamma', 'Meridian Health Systems', ARRAY['team-lunch', 'holiday', '6-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),

-- === rpt-emma-005: January Draft (2 lines) ===
('00000000-0000-4000-f005-000000000001', '00000000-0000-4000-e001-000000000005', 'Lunch with Acme PM to discuss Q1 roadmap', 86.50, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2026-01-08', 'Sweetgreen', 'restaurant', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['client-lunch', 'billable'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f005-000000000002', '00000000-0000-4000-e001-000000000005', 'Uber to client office', 70.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2026-01-08', 'Uber', 'rideshare', 'San Francisco', 'US', 'personal_card', '00000000-0000-4000-d001-000000000001', 'Project Alpha', 'Acme Corporation', ARRAY['ground-transport', 'billable'], false, NULL, NULL, NULL, false, NULL, NULL),

-- === rpt-frank-001: West Coast Client Tour (12 lines) ===
('00000000-0000-4000-f101-000000000001', '00000000-0000-4000-e002-000000000001', 'Round-trip flight SFO-LAX-SEA-SFO multi-city', 1250.00, 'USD', '00000000-0000-4000-b002-000000000001', 'Airfare', 'TRAVEL-AIR', 'Travel > Airfare', '2025-09-08', 'Delta Airlines', 'airline', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['multi-city', 'billable'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000002', '00000000-0000-4000-e002-000000000001', 'Hotel W San Francisco - 2 nights', 650.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-09-08', 'W Hotels', 'hotel', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['billable', '2-nights'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000003', '00000000-0000-4000-e002-000000000001', 'Client dinner with GlobalTech VP of Engineering', 385.00, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-09-08', 'Gary Danko', 'restaurant', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-dinner', '3-attendees', 'vp-level'], false, NULL, NULL, NULL, true, 0.7100, ARRAY['unusual_amount']),
('00000000-0000-4000-f101-000000000004', '00000000-0000-4000-e002-000000000001', 'Uber rides in San Francisco', 145.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-09-09', 'Uber', 'rideshare', 'San Francisco', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000005', '00000000-0000-4000-e002-000000000001', 'Hotel Beverly Wilshire LA - 1 night', 420.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-09-10', 'Four Seasons Hotels', 'hotel', 'Los Angeles', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['billable', '1-night'], false, NULL, NULL, NULL, true, 0.6500, ARRAY['unusual_amount', 'exceeds_typical_range']),
('00000000-0000-4000-f101-000000000006', '00000000-0000-4000-e002-000000000001', 'Client lunch meeting in LA', 185.25, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-09-10', 'Nobu Malibu', 'restaurant', 'Los Angeles', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-lunch', '2-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000007', '00000000-0000-4000-e002-000000000001', 'Uber rides in Los Angeles', 210.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-09-10', 'Uber', 'rideshare', 'Los Angeles', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000008', '00000000-0000-4000-e002-000000000001', 'Hotel Fairmont Olympic Seattle - 1 night', 380.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-09-11', 'Fairmont Hotels', 'hotel', 'Seattle', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['billable', '1-night'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000009', '00000000-0000-4000-e002-000000000001', 'Client dinner in Seattle with GlobalTech team', 345.00, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-09-11', 'Canlis', 'restaurant', 'Seattle', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-dinner', '4-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000010', '00000000-0000-4000-e002-000000000001', 'Lyft rides in Seattle', 180.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-09-11', 'Lyft', 'rideshare', 'Seattle', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000011', '00000000-0000-4000-e002-000000000001', 'Airport lounge pass - SEA', 70.00, 'USD', '00000000-0000-4000-b001-000000000001', 'Travel', 'TRAVEL', 'Travel', '2025-09-12', 'Alaska Airlines Lounge', 'airline', 'Seattle', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['lounge'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f101-000000000012', '00000000-0000-4000-e002-000000000001', 'Solo meals during travel', 450.00, 'USD', '00000000-0000-4000-b002-000000000007', 'Individual Meals', 'MEALS-SOLO', 'Meals & Entertainment > Individual Meals', '2025-09-12', 'Various', 'restaurant', NULL, 'US', 'personal_card', NULL, NULL, NULL, ARRAY['solo-meals', 'travel'], false, NULL, NULL, NULL, true, 0.9200, ARRAY['unusual_amount', 'exceeds_typical_range']),

-- === rpt-frank-002: Sales Summit (8 lines) ===
('00000000-0000-4000-f102-000000000001', '00000000-0000-4000-e002-000000000002', 'Round-trip flight to Las Vegas', 320.00, 'USD', '00000000-0000-4000-b002-000000000001', 'Airfare', 'TRAVEL-AIR', 'Travel > Airfare', '2025-10-25', 'Southwest Airlines', 'airline', 'Las Vegas', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f102-000000000002', '00000000-0000-4000-e002-000000000002', 'Venetian Resort - 3 nights', 1080.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-10-25', 'The Venetian', 'hotel', 'Las Vegas', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit', '3-nights'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f102-000000000003', '00000000-0000-4000-e002-000000000002', 'Summit welcome dinner - team table', 285.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-10-25', 'TAO Las Vegas', 'restaurant', 'Las Vegas', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit', 'team-dinner'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f102-000000000004', '00000000-0000-4000-e002-000000000002', 'Client entertainment dinner - 6 clients', 450.80, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-10-26', 'Delmonico Steakhouse', 'restaurant', 'Las Vegas', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit', 'client-dinner', '6-attendees'], false, NULL, NULL, NULL, true, 0.5800, ARRAY['weekend_expense']),
('00000000-0000-4000-f102-000000000005', '00000000-0000-4000-e002-000000000002', 'Uber rides during summit', 180.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-10-27', 'Uber', 'rideshare', 'Las Vegas', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['summit', 'ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f102-000000000006', '00000000-0000-4000-e002-000000000002', 'Summit closing lunch', 130.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-10-27', 'Grand Lux Cafe', 'restaurant', 'Las Vegas', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit', 'team-lunch'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f102-000000000007', '00000000-0000-4000-e002-000000000002', 'Parking at home airport', 120.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-10-28', 'Airport Parking', 'parking', NULL, 'US', 'personal_card', NULL, NULL, NULL, ARRAY['parking'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f102-000000000008', '00000000-0000-4000-e002-000000000002', 'Hotel minibar and incidentals', 100.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-10-28', 'The Venetian', 'hotel', 'Las Vegas', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000005', 'Sales Summit 2025', NULL, ARRAY['summit', 'incidentals'], false, NULL, NULL, NULL, true, 0.4500, ARRAY['unusual_category']),

-- === rpt-frank-003: Rejected Client Dinners (3 lines) ===
('00000000-0000-4000-f103-000000000001', '00000000-0000-4000-e002-000000000003', 'Dinner at Masa with prospective client', 350.00, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-11-12', 'Masa NYC', 'restaurant', 'New York', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-dinner', 'high-value'], false, NULL, NULL, NULL, true, 0.9500, ARRAY['unusual_amount', 'exceeds_typical_range']),
('00000000-0000-4000-f103-000000000002', '00000000-0000-4000-e002-000000000003', 'Client lunch - GlobalTech product review', 192.50, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-11-15', 'Le Bernardin', 'restaurant', 'New York', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000002', 'Project Beta', 'GlobalTech Solutions', ARRAY['client-lunch'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f103-000000000003', '00000000-0000-4000-e002-000000000003', 'Team dinner after client meetings', 350.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-11-18', 'Peter Luger Steak House', 'restaurant', 'New York', 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['team-dinner', 'missing-justification'], false, NULL, NULL, NULL, true, 0.8800, ARRAY['unusual_amount', 'missing_attendee_list']),

-- === rpt-frank-004: December Travel PFG (5 lines) ===
('00000000-0000-4000-f104-000000000001', '00000000-0000-4000-e002-000000000004', 'Round-trip flight to Boston', 395.00, 'USD', '00000000-0000-4000-b002-000000000001', 'Airfare', 'TRAVEL-AIR', 'Travel > Airfare', '2025-12-10', 'JetBlue', 'airline', 'Boston', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000006', 'Project Delta', 'Pinnacle Financial Group', ARRAY['project-closeout', 'billable'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f104-000000000002', '00000000-0000-4000-e002-000000000004', 'Boston Park Plaza - 2 nights', 540.00, 'USD', '00000000-0000-4000-b002-000000000002', 'Lodging', 'TRAVEL-HOTEL', 'Travel > Lodging', '2025-12-10', 'Boston Park Plaza', 'hotel', 'Boston', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000006', 'Project Delta', 'Pinnacle Financial Group', ARRAY['project-closeout', 'billable', '2-nights'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f104-000000000003', '00000000-0000-4000-e002-000000000004', 'Farewell dinner with PFG team', 250.00, 'USD', '00000000-0000-4000-b002-000000000005', 'Client Entertainment', 'MEALS-CLIENT', 'Meals & Entertainment > Client Entertainment', '2025-12-11', 'Legal Sea Foods', 'restaurant', 'Boston', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000006', 'Project Delta', 'Pinnacle Financial Group', ARRAY['client-dinner', 'project-closeout', '4-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f104-000000000004', '00000000-0000-4000-e002-000000000004', 'Project celebration lunch', 100.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-12-12', 'Union Oyster House', 'restaurant', 'Boston', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000006', 'Project Delta', 'Pinnacle Financial Group', ARRAY['team-lunch', 'celebration'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f104-000000000005', '00000000-0000-4000-e002-000000000004', 'Uber rides in Boston', 200.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-12-13', 'Uber', 'rideshare', 'Boston', 'US', 'personal_card', NULL, NULL, NULL, ARRAY['ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),

-- === rpt-david-001: Q4 Team Offsite (6 lines) ===
('00000000-0000-4000-f201-000000000001', '00000000-0000-4000-e003-000000000001', 'Team dinner at Italian restaurant - 8 people', 420.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-11-12', 'Flour + Water', 'restaurant', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000004', 'Internal DevOps Modernization', NULL, ARRAY['team-offsite', 'team-dinner', '8-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f201-000000000002', '00000000-0000-4000-e003-000000000001', 'Team lunch - offsite day 2', 185.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-11-13', 'Burma Superstar', 'restaurant', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000004', 'Internal DevOps Modernization', NULL, ARRAY['team-offsite', 'team-lunch', '8-attendees'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f201-000000000003', '00000000-0000-4000-e003-000000000001', 'Coffee and snacks for offsite workshop', 175.00, 'USD', '00000000-0000-4000-b002-000000000006', 'Team Meals', 'MEALS-TEAM', 'Meals & Entertainment > Team Meals', '2025-11-12', 'Blue Bottle Coffee', 'restaurant', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000004', 'Internal DevOps Modernization', NULL, ARRAY['team-offsite', 'snacks'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f201-000000000004', '00000000-0000-4000-e003-000000000001', 'Uber rides for team members', 350.00, 'USD', '00000000-0000-4000-b001-000000000005', 'Transportation', 'TRANSPORT', 'Transportation', '2025-11-13', 'Uber', 'rideshare', 'San Francisco', 'US', 'corporate_card', '00000000-0000-4000-d001-000000000004', 'Internal DevOps Modernization', NULL, ARRAY['team-offsite', 'ground-transport'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f201-000000000005', '00000000-0000-4000-e003-000000000001', 'Whiteboard supplies and markers', 85.00, 'USD', '00000000-0000-4000-b001-000000000003', 'Office Supplies', 'OFFICE', 'Office Supplies', '2025-11-11', 'Staples', 'office_supply', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['team-offsite', 'workshop-supplies'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f201-000000000006', '00000000-0000-4000-e003-000000000001', 'Printed materials and binders for planning session', 365.00, 'USD', '00000000-0000-4000-b001-000000000003', 'Office Supplies', 'OFFICE', 'Office Supplies', '2025-11-11', 'FedEx Office', 'office_supply', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['team-offsite', 'printing'], false, NULL, NULL, NULL, true, 0.7200, ARRAY['unusual_amount']),

-- === rpt-isabel-001: Training (3 lines) ===
('00000000-0000-4000-f301-000000000001', '00000000-0000-4000-e004-000000000001', 'Advanced Excel & Power BI Course - Online', 395.00, 'USD', '00000000-0000-4000-b001-000000000007', 'Training & Education', 'TRAINING', 'Training & Education', '2025-11-25', 'Coursera', 'education', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['certification', 'online-course'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f301-000000000002', '00000000-0000-4000-e004-000000000001', 'Data Analytics reference book', 65.00, 'USD', '00000000-0000-4000-b001-000000000003', 'Office Supplies', 'OFFICE', 'Office Supplies', '2025-11-26', 'Amazon', 'books', NULL, 'US', 'personal_card', NULL, NULL, NULL, ARRAY['reference-material', 'book'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f301-000000000003', '00000000-0000-4000-e004-000000000001', 'Financial Modeling certification exam fee', 200.00, 'USD', '00000000-0000-4000-b001-000000000007', 'Training & Education', 'TRAINING', 'Training & Education', '2025-11-28', 'CFI - Corporate Finance Institute', 'education', NULL, 'US', 'personal_card', NULL, NULL, NULL, ARRAY['certification', 'exam-fee'], false, NULL, NULL, NULL, false, NULL, NULL),

-- === rpt-isabel-002: Returned report (3 lines) ===
('00000000-0000-4000-f302-000000000001', '00000000-0000-4000-e004-000000000002', 'Paper, toner, and printer supplies', 84.50, 'USD', '00000000-0000-4000-b001-000000000003', 'Office Supplies', 'OFFICE', 'Office Supplies', '2025-12-05', 'Staples', 'office_supply', NULL, 'US', 'personal_card', NULL, NULL, NULL, ARRAY['monthly-supplies'], false, NULL, NULL, NULL, false, NULL, NULL),
('00000000-0000-4000-f302-000000000002', '00000000-0000-4000-e004-000000000002', 'QuickBooks Online - Annual renewal', 100.00, 'USD', '00000000-0000-4000-b002-000000000008', 'Software & SaaS', 'TECH-SW', 'Technology > Software & SaaS', '2025-12-10', 'Intuit', 'software', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['subscription', 'annual'], true, '00000000-0000-4000-a701-000000000006', 'annual', 'Intuit', false, NULL, NULL),
('00000000-0000-4000-f302-000000000003', '00000000-0000-4000-e004-000000000002', 'Microsoft 365 Business - Annual', 50.00, 'USD', '00000000-0000-4000-b002-000000000008', 'Software & SaaS', 'TECH-SW', 'Technology > Software & SaaS', '2025-12-15', 'Microsoft', 'software', NULL, 'US', 'corporate_card', NULL, NULL, NULL, ARRAY['subscription', 'annual', 'missing-receipt'], true, '00000000-0000-4000-a701-000000000007', 'annual', 'Microsoft', false, NULL, NULL)

ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- APPROVAL HISTORY
-- ============================================================================

INSERT INTO approval_history (id, report_id, step_number, step_name, actor_id, actor_email, action, comment, created_at) VALUES
-- Emma's NYC trip (posted)
('00000000-0000-4000-a101-000000000001', '00000000-0000-4000-e001-000000000001', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000004', 'manager@test.local', 'approve', 'Approved - legitimate client visit for Project Alpha kickoff', '2025-08-24 14:15:00+00'),
('00000000-0000-4000-a101-000000000002', '00000000-0000-4000-e001-000000000001', 2, 'Finance Review', '00000000-0000-4000-a000-000000000003', 'finance@test.local', 'approve', 'Reviewed and approved for posting. Note: parking amount flagged as anomaly, accepted with explanation.', '2025-08-25 10:00:00+00'),
-- Emma's September tech (approved)
('00000000-0000-4000-a101-000000000003', '00000000-0000-4000-e001-000000000002', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000004', 'manager@test.local', 'approve', 'Standard monthly subscriptions, approved.', '2025-10-02 11:30:00+00'),
-- Emma's Chicago conference (approved)
('00000000-0000-4000-a101-000000000004', '00000000-0000-4000-e001-000000000003', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000004', 'manager@test.local', 'approve', 'Conference pre-approved. Approved.', '2025-10-25 09:00:00+00'),
-- Frank's West Coast tour (posted)
('00000000-0000-4000-a101-000000000005', '00000000-0000-4000-e002-000000000001', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000004', 'manager@test.local', 'approve', 'Client tour approved. Note: some hotel amounts over typical range but justified for locations.', '2025-09-14 16:00:00+00'),
('00000000-0000-4000-a101-000000000006', '00000000-0000-4000-e002-000000000001', 2, 'Finance Review', '00000000-0000-4000-a000-000000000003', 'finance@test.local', 'approve', 'Over budget by 13.4% but justified by multi-city scope. Posted.', '2025-09-16 09:00:00+00'),
-- Frank's Summit (approved)
('00000000-0000-4000-a101-000000000007', '00000000-0000-4000-e002-000000000002', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000004', 'manager@test.local', 'approve', 'Annual summit expenses look reasonable.', '2025-10-31 14:00:00+00'),
-- Frank's rejected report
('00000000-0000-4000-a101-000000000008', '00000000-0000-4000-e002-000000000003', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000004', 'manager@test.local', 'reject', 'REJECTED: $350 dinner at Masa lacks attendee list. $350 team dinner at Peter Luger lacks business justification. Please resubmit with documentation.', '2025-11-22 10:00:00+00'),
-- David's offsite (posted)
('00000000-0000-4000-a101-000000000009', '00000000-0000-4000-e003-000000000001', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000001', 'superadmin@test.local', 'approve', 'Team offsite approved by VP. Good initiative.', '2025-11-17 10:00:00+00'),
-- Isabel's training (approved)
('00000000-0000-4000-a101-000000000010', '00000000-0000-4000-e004-000000000001', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000002', 'admin@test.local', 'approve', 'Professional development approved per annual training budget.', '2025-12-02 15:00:00+00'),
-- Isabel's returned report
('00000000-0000-4000-a101-000000000011', '00000000-0000-4000-e004-000000000002', 1, 'Manager Approval', '00000000-0000-4000-a000-000000000002', 'admin@test.local', 'return', 'Missing receipt for $150 Microsoft 365 renewal. Please attach and resubmit.', '2025-12-22 11:00:00+00')
ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- SPENDING SUMMARIES (Pre-aggregated for LLM trend queries)
-- ============================================================================

INSERT INTO spending_summaries (id, period_type, period_start, period_end, fiscal_year, fiscal_quarter, fiscal_month, user_id, department_id, category_id, total_amount, transaction_count, report_count, avg_transaction, max_transaction, min_transaction, prev_period_amount, amount_change, pct_change, category_breakdown, top_merchants, narrative_summary) VALUES

-- Emma monthly summaries
('00000000-0000-4000-a201-000000000001', 'monthly', '2025-08-01', '2025-08-31', 2025, 3, 8, '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', NULL, 2847.50, 7, 1, 406.79, 897.00, 47.00, 1650.00, 1197.50, 72.6, '{"Airfare": 485.00, "Lodging": 897.00, "Transportation": 1008.50, "Client Entertainment": 410.50, "Individual Meals": 47.00}', '[{"name": "Hilton Hotels", "amount": 897.00, "count": 1}, {"name": "United Airlines", "amount": 485.00, "count": 1}]', 'August spending up 72.6% vs July, driven by NYC client visit for Acme Corp Project Alpha. Travel and lodging comprised 83% of total.'),

('00000000-0000-4000-a201-000000000002', 'monthly', '2025-09-01', '2025-09-30', 2025, 3, 9, '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', NULL, 487.94, 5, 1, 97.59, 212.10, 19.00, 2847.50, -2359.56, -82.9, '{"Software & SaaS": 331.00, "Cloud Services": 156.94}', '[{"name": "Notion", "amount": 212.10, "count": 1}, {"name": "Amazon Web Services", "amount": 156.94, "count": 1}]', 'September spending dropped 82.9% vs August — only recurring tech subscriptions. No travel. AWS dev account ($157) was largest single expense.'),

('00000000-0000-4000-a201-000000000003', 'monthly', '2025-10-01', '2025-10-31', 2025, 4, 10, '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', NULL, 1925.00, 5, 1, 385.00, 598.00, 202.00, 487.94, 1437.06, 294.5, '{"Airfare": 380.00, "Lodging": 598.00, "Training & Education": 495.00, "Team Meals": 202.00, "Transportation": 250.00}', '[{"name": "Palmer House Hilton", "amount": 598.00, "count": 1}, {"name": "DevOps Days", "amount": 495.00, "count": 1}]', 'October spending spiked 294.5% vs September due to DevOps Days Chicago conference. Conference ticket, travel, and hotel were major drivers.'),

('00000000-0000-4000-a201-000000000004', 'monthly', '2025-12-01', '2025-12-31', 2025, 4, 12, '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', NULL, 342.15, 4, 1, 85.54, 449.00, 42.15, 1925.00, -1582.85, -82.2, '{"Hardware": 449.00, "Office Supplies": 127.15, "Team Meals": 215.00}', '[{"name": "Amazon", "amount": 449.00, "count": 1}, {"name": "Olive Garden", "amount": 215.00, "count": 1}]', 'December spending down 82.2% vs October. Ergonomic keyboard purchase ($449) flagged as anomaly. Holiday team lunch for Gamma project.'),

-- Frank monthly summaries
('00000000-0000-4000-a202-000000000001', 'monthly', '2025-09-01', '2025-09-30', 2025, 3, 9, '00000000-0000-4000-a000-000000000006', '00000000-0000-4000-c002-000000000004', NULL, 5670.25, 12, 1, 472.52, 1250.00, 70.00, 3200.00, 2470.25, 77.2, '{"Airfare": 1250.00, "Lodging": 1450.00, "Client Entertainment": 915.25, "Transportation": 535.00, "Individual Meals": 450.00, "Travel": 70.00}', '[{"name": "Delta Airlines", "amount": 1250.00, "count": 1}, {"name": "W Hotels", "amount": 650.00, "count": 1}]', 'September was a heavy travel month — West Coast client tour across SF, LA, and Seattle for Project Beta (GlobalTech). Over budget by 13.4%. Solo meals flagged as anomaly ($450 aggregate).'),

('00000000-0000-4000-a202-000000000002', 'monthly', '2025-10-01', '2025-10-31', 2025, 4, 10, '00000000-0000-4000-a000-000000000006', '00000000-0000-4000-c002-000000000004', NULL, 3215.80, 8, 1, 401.98, 1080.00, 100.00, 5670.25, -2454.45, -43.3, '{"Airfare": 320.00, "Lodging": 1180.00, "Client Entertainment": 450.80, "Team Meals": 415.00, "Transportation": 300.00}', '[{"name": "The Venetian", "amount": 1180.00, "count": 2}, {"name": "Delmonico Steakhouse", "amount": 450.80, "count": 1}]', 'October spending down 43.3% vs September, but still above average for Sales Summit in Las Vegas. Client entertainment dinner on a weekend flagged.'),

('00000000-0000-4000-a202-000000000003', 'monthly', '2025-11-01', '2025-11-30', 2025, 4, 11, '00000000-0000-4000-a000-000000000006', '00000000-0000-4000-c002-000000000004', NULL, 892.50, 3, 1, 297.50, 350.00, 192.50, 3215.80, -2323.30, -72.2, '{"Client Entertainment": 542.50, "Team Meals": 350.00}', '[{"name": "Masa NYC", "amount": 350.00, "count": 1}, {"name": "Peter Luger", "amount": 350.00, "count": 1}]', 'November spending dropped 72.2% — only client entertainment meals. Report REJECTED due to missing attendee list and justification for high-end restaurant expenses.'),

-- David monthly summary
('00000000-0000-4000-a203-000000000001', 'monthly', '2025-11-01', '2025-11-30', 2025, 4, 11, '00000000-0000-4000-a000-000000000004', '00000000-0000-4000-c002-000000000001', NULL, 1580.00, 6, 1, 263.33, 420.00, 85.00, 800.00, 780.00, 97.5, '{"Team Meals": 780.00, "Transportation": 350.00, "Office Supplies": 450.00}', '[{"name": "Flour + Water", "amount": 420.00, "count": 1}, {"name": "FedEx Office", "amount": 365.00, "count": 1}]', 'November spending up 97.5% due to engineering team offsite. Team meals for 8 people and workshop supplies drove the increase. FedEx Office printing expense flagged as unusual amount.'),

-- Department-level summaries (Q4 2025)
('00000000-0000-4000-a204-000000000001', 'quarterly', '2025-10-01', '2025-12-31', 2025, 4, NULL, NULL, '00000000-0000-4000-c002-000000000001', NULL, 3847.15, 15, 3, 256.48, 598.00, 42.15, 3335.44, 511.71, 15.3, '{"Lodging": 598.00, "Training & Education": 495.00, "Team Meals": 1177.00, "Transportation": 600.00, "Hardware": 449.00, "Office Supplies": 577.15}', '[{"name": "Palmer House Hilton", "amount": 598.00, "count": 1}, {"name": "DevOps Days", "amount": 495.00, "count": 1}]', 'Backend Engineering Q4 spending up 15.3% QoQ. Major drivers: DevOps Days conference and team offsite. Hardware purchase (ergonomic keyboard) flagged. Team building activities higher than typical.'),

('00000000-0000-4000-a204-000000000002', 'quarterly', '2025-10-01', '2025-12-31', 2025, 4, NULL, NULL, '00000000-0000-4000-c002-000000000004', NULL, 5953.30, 16, 3, 372.08, 1080.00, 100.00, 5670.25, 283.05, 5.0, '{"Airfare": 715.00, "Lodging": 1720.00, "Client Entertainment": 1343.30, "Team Meals": 765.00, "Transportation": 500.00}', '[{"name": "The Venetian", "amount": 1180.00, "count": 2}, {"name": "Boston Park Plaza", "amount": 540.00, "count": 1}]', 'Sales NA Q4 spending up 5.0% QoQ. Driven by Sales Summit and Project Delta closeout travel. One report rejected (missing documentation). Client entertainment 22% of total spend.')

ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- ANOMALY RECORDS
-- ============================================================================

INSERT INTO expense_anomalies (id, expense_line_id, report_id, user_id, anomaly_type, severity, confidence, context, explanation, status, detected_at) VALUES
('00000000-0000-4000-a301-000000000001', '00000000-0000-4000-f001-000000000007', '00000000-0000-4000-e001-000000000001', '00000000-0000-4000-a000-000000000005', 'amount_outlier', 'medium', 0.8500, '{"expected_range": [10, 120], "actual": 830, "z_score": 4.2, "peer_avg": 45, "category": "Transportation"}', 'Parking charge of $830 is 4.2 standard deviations above the typical $10-$120 range for Transportation. This is unusually high for a 4-day trip. Long-term airport parking at SFO may explain the cost.', 'reviewed', '2025-08-23 12:00:00+00'),
('00000000-0000-4000-a301-000000000002', '00000000-0000-4000-f101-000000000012', '00000000-0000-4000-e002-000000000001', '00000000-0000-4000-a000-000000000006', 'amount_outlier', 'high', 0.9200, '{"expected_range": [10, 50], "actual": 450, "z_score": 5.1, "peer_avg": 35, "category": "Individual Meals"}', 'Solo meals aggregate of $450 over a 5-day trip is 5.1 standard deviations above the typical $10-$50 range. Average of $90/day for individual meals exceeds policy guidelines. Consider splitting line items by day.', 'confirmed', '2025-09-13 10:00:00+00'),
('00000000-0000-4000-a301-000000000003', '00000000-0000-4000-f101-000000000005', '00000000-0000-4000-e002-000000000001', '00000000-0000-4000-a000-000000000006', 'amount_outlier', 'low', 0.6500, '{"expected_range": [80, 350], "actual": 420, "z_score": 1.8, "peer_avg": 195, "category": "Lodging"}', 'Hotel rate of $420/night in Los Angeles is above the typical $80-$350 range. Beverly Wilshire is a luxury property; standard hotels in the area average ~$200/night.', 'dismissed', '2025-09-13 10:00:00+00'),
('00000000-0000-4000-a301-000000000004', '00000000-0000-4000-f103-000000000001', '00000000-0000-4000-e002-000000000003', '00000000-0000-4000-a000-000000000006', 'amount_outlier', 'high', 0.9500, '{"expected_range": [50, 200], "actual": 350, "z_score": 3.8, "peer_avg": 95, "category": "Client Entertainment", "policy_violation": "POL-CLIENT-ENT"}', 'Client dinner at Masa ($350) exceeds $150/attendee policy limit. This is 3.8 standard deviations above the typical $50-$200 range for client entertainment. Missing attendee list makes per-person verification impossible.', 'confirmed', '2025-11-21 12:00:00+00'),
('00000000-0000-4000-a301-000000000005', '00000000-0000-4000-f103-000000000003', '00000000-0000-4000-e002-000000000003', '00000000-0000-4000-a000-000000000006', 'frequency_spike', 'medium', 0.8800, '{"expense_count_this_month": 3, "typical_monthly_count": 1.2, "category": "Team Meals", "missing_docs": true}', 'Three high-value restaurant expenses in one week is 2.5x the typical frequency. Combined with missing attendee lists and business justification, this pattern warrants review.', 'escalated', '2025-11-21 12:00:00+00'),
('00000000-0000-4000-a301-000000000006', '00000000-0000-4000-f004-000000000001', '00000000-0000-4000-e001-000000000004', '00000000-0000-4000-a000-000000000005', 'unusual_category', 'low', 0.7800, '{"user_typical_categories": ["Travel", "Technology", "Meals & Entertainment"], "this_category": "Hardware", "occurrences_last_12m": 0, "amount": 449}', 'First hardware purchase in 12 months. Ergonomic keyboard ($449) is within hardware policy limits but unusual for this user who typically expenses travel and software.', 'reviewed', '2025-12-19 10:00:00+00'),
('00000000-0000-4000-a301-000000000007', '00000000-0000-4000-f201-000000000006', '00000000-0000-4000-e003-000000000001', '00000000-0000-4000-a000-000000000004', 'amount_outlier', 'low', 0.7200, '{"expected_range": [20, 150], "actual": 365, "z_score": 2.6, "peer_avg": 55, "category": "Office Supplies"}', 'Printing expense of $365 at FedEx Office is 2.6 standard deviations above the typical $20-$150 range for Office Supplies. Likely justified by team offsite materials for 8 people.', 'dismissed', '2025-11-16 12:00:00+00')
ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- BUDGETS (for variance analysis)
-- ============================================================================

INSERT INTO budgets (id, user_id, department_id, category_id, period_type, period_start, period_end, budget_amount, spent_amount, alert_threshold_pct) VALUES
-- Emma's budgets
('00000000-0000-4000-a401-000000000001', '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', NULL, 'quarterly', '2025-10-01', '2025-12-31', 6000.00, 2267.15, 80.00),
('00000000-0000-4000-a401-000000000002', '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', '00000000-0000-4000-b001-000000000001', 'quarterly', '2025-10-01', '2025-12-31', 3000.00, 978.00, 80.00),
-- Frank's budgets
('00000000-0000-4000-a402-000000000001', '00000000-0000-4000-a000-000000000006', '00000000-0000-4000-c002-000000000004', NULL, 'quarterly', '2025-10-01', '2025-12-31', 10000.00, 5953.30, 75.00),
('00000000-0000-4000-a402-000000000002', '00000000-0000-4000-a000-000000000006', '00000000-0000-4000-c002-000000000004', '00000000-0000-4000-b001-000000000002', 'quarterly', '2025-10-01', '2025-12-31', 3000.00, 2108.30, 80.00),
-- Department budgets
('00000000-0000-4000-a403-000000000001', NULL, '00000000-0000-4000-c002-000000000001', NULL, 'quarterly', '2025-10-01', '2025-12-31', 25000.00, 3847.15, 80.00),
('00000000-0000-4000-a403-000000000002', NULL, '00000000-0000-4000-c002-000000000004', NULL, 'quarterly', '2025-10-01', '2025-12-31', 30000.00, 5953.30, 75.00),
-- Monthly budgets
('00000000-0000-4000-a401-000000000003', '00000000-0000-4000-a000-000000000005', '00000000-0000-4000-c002-000000000001', NULL, 'monthly', '2025-12-01', '2025-12-31', 2000.00, 342.15, 80.00),
('00000000-0000-4000-a402-000000000003', '00000000-0000-4000-a000-000000000006', '00000000-0000-4000-c002-000000000004', NULL, 'monthly', '2025-12-01', '2025-12-31', 3500.00, 1845.00, 80.00)
ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- LLM INSIGHTS (Pre-generated sample insights)
-- ============================================================================

INSERT INTO expense_insights (id, scope_type, scope_id, period_start, period_end, insight_type, title, content, supporting_data, confidence, relevance_score, generated_by, generated_at) VALUES
('00000000-0000-4000-a501-000000000001', 'user', '00000000-0000-4000-a000-000000000005', '2025-08-01', '2025-12-31', 'trend', 'Bimodal spending pattern detected', 'Emma has a bimodal spending pattern: high-spend months ($1,900-$2,800) driven by business travel, alternating with low-spend months ($340-$490) of recurring subscriptions only. This is typical for project-based engineers who travel for client work.', '{"high_months": [{"month": "2025-08", "amount": 2847.50}, {"month": "2025-10", "amount": 1925.00}], "low_months": [{"month": "2025-09", "amount": 487.94}, {"month": "2025-12", "amount": 342.15}], "recurring_baseline": 487.94}', 0.8900, 0.9200, 'system', '2026-01-01 00:00:00+00'),

('00000000-0000-4000-a501-000000000002', 'user', '00000000-0000-4000-a000-000000000006', '2025-09-01', '2025-11-30', 'anomaly', 'Client entertainment spending requires attention', 'Frank''s client entertainment spending shows a concerning pattern: 3 expenses were flagged (1 rejected report) with missing attendee lists. Average client dinner cost ($310) is 2.1x the team average ($148). Recommend: establish pre-approval for client dinners >$200 and require attendee documentation.', '{"flagged_count": 3, "rejected_reports": 1, "avg_dinner_cost": 310, "team_avg_dinner": 148, "ratio": 2.1}', 0.9200, 0.9500, 'system', '2025-12-01 00:00:00+00'),

('00000000-0000-4000-a501-000000000003', 'department', '00000000-0000-4000-c002-000000000001', '2025-10-01', '2025-12-31', 'summary', 'Q4 Backend Engineering spending summary', 'Backend Engineering Q4 spending was $3,847 (15.3% above Q3). Key drivers: DevOps Days conference attendance and team offsite. 84.6% under quarterly budget ($25K). Travel spending was 38.5% below allocated travel budget. Team building meals are trending up quarter over quarter.', '{"total": 3847.15, "budget": 25000.00, "utilization_pct": 15.4, "qoq_change": 15.3, "travel_budget_utilization": 32.6}', 0.9100, 0.8500, 'system', '2026-01-01 00:00:00+00'),

('00000000-0000-4000-a501-000000000004', 'organization', NULL, '2025-10-01', '2025-12-31', 'comparison', 'Sales vs Engineering Q4 spending comparison', 'Sales NA spent 54.7% more than Backend Engineering in Q4 ($5,953 vs $3,847). Sales spending is heavily weighted toward client entertainment (22.6%) while Engineering focuses on team meals (30.6%) and conference attendance. Both departments are well under quarterly budgets (Sales: 19.8%, Engineering: 15.4%).', '{"sales_total": 5953.30, "eng_total": 3847.15, "sales_budget_util": 19.8, "eng_budget_util": 15.4, "sales_top_category": "Lodging", "eng_top_category": "Team Meals"}', 0.8700, 0.8800, 'system', '2026-01-01 00:00:00+00'),

('00000000-0000-4000-a501-000000000005', 'global', NULL, '2025-08-01', '2025-12-31', 'recommendation', 'Recurring subscription consolidation opportunity', 'Across the organization, there are 7+ recurring SaaS subscriptions totaling ~$488/month per engineering user. Potential savings: Notion Team ($212/mo) and Figma Professional ($75/mo) have overlapping whiteboarding features. Consider evaluating tool consolidation to save an estimated $900/year per user.', '{"total_monthly_recurring": 487.94, "subscriptions": [{"name": "Notion", "amount": 212.10}, {"name": "AWS", "amount": 156.94}, {"name": "Figma", "amount": 75.00}, {"name": "JetBrains", "amount": 24.90}, {"name": "GitHub Copilot", "amount": 19.00}], "potential_annual_savings": 900}', 0.7500, 0.7800, 'system', '2026-01-01 00:00:00+00'),

('00000000-0000-4000-a501-000000000006', 'user', '00000000-0000-4000-a000-000000000006', '2025-09-01', '2025-12-31', 'forecast', 'Q1 2026 spending forecast for Frank', 'Based on 5 months of data, Frank''s projected Q1 2026 spend is $8,500-$10,200. Key assumptions: 1-2 client trips per month (historical pattern), continued Project Beta activity, and typical seasonal increase in Q1 sales travel. Client entertainment will likely remain the highest discretionary category.', '{"forecast_low": 8500, "forecast_high": 10200, "confidence_interval": 0.75, "key_drivers": ["client_travel", "project_beta", "seasonal_q1"], "monthly_avg_historical": 3259}', 0.7200, 0.8000, 'system', '2026-01-01 00:00:00+00')

ON CONFLICT (id) DO NOTHING;

-- ============================================================================
-- MERCHANT NORMALIZATIONS (sample entries)
-- ============================================================================

INSERT INTO merchants (id, raw_name, normalized_name, category_id, merchant_type, typical_amount_range) VALUES
('00000000-0000-4000-a601-000000000001', 'UBER *TRIP HELP.UBER.COM', 'Uber', '00000000-0000-4000-b001-000000000005', 'rideshare', '{"min": 8, "max": 85}'),
('00000000-0000-4000-a601-000000000002', 'LYFT *RIDE TUE', 'Lyft', '00000000-0000-4000-b001-000000000005', 'rideshare', '{"min": 8, "max": 75}'),
('00000000-0000-4000-a601-000000000003', 'HILTON HOTELS 12345 NYC', 'Hilton Hotels', '00000000-0000-4000-b002-000000000002', 'hotel', '{"min": 150, "max": 400}'),
('00000000-0000-4000-a601-000000000004', 'UNITED AIRLINES 016 2847364', 'United Airlines', '00000000-0000-4000-b002-000000000001', 'airline', '{"min": 200, "max": 1500}'),
('00000000-0000-4000-a601-000000000005', 'DELTA AIR LINES 006 9283745', 'Delta Airlines', '00000000-0000-4000-b002-000000000001', 'airline', '{"min": 200, "max": 1500}'),
('00000000-0000-4000-a601-000000000006', 'GITHUB.COM/COPILOT', 'GitHub', '00000000-0000-4000-b002-000000000008', 'software', '{"min": 10, "max": 40}'),
('00000000-0000-4000-a601-000000000007', 'AMAZON WEB SERVICES AWS.AMAZ', 'Amazon Web Services', '00000000-0000-4000-b002-000000000010', 'cloud', '{"min": 20, "max": 500}'),
('00000000-0000-4000-a601-000000000008', 'STAPLES #0247', 'Staples', '00000000-0000-4000-b001-000000000003', 'office_supply', '{"min": 10, "max": 200}'),
('00000000-0000-4000-a601-000000000009', 'SQ *SHAKE SHACK', 'Shake Shack', '00000000-0000-4000-b002-000000000007', 'restaurant', '{"min": 10, "max": 25}'),
('00000000-0000-4000-a601-000000000010', 'SOUTHWEST 526 7382940', 'Southwest Airlines', '00000000-0000-4000-b002-000000000001', 'airline', '{"min": 100, "max": 800}')
ON CONFLICT (raw_name) DO NOTHING;

-- ============================================================================
-- UPDATE PROJECT SPENT AMOUNTS (reflect seeded expense data)
-- ============================================================================

UPDATE projects SET spent_amount = 5595.00 WHERE code = 'PROJ-ALPHA';   -- Emma's NYC trip + AWS + Jan draft
UPDATE projects SET spent_amount = 6562.75 WHERE code = 'PROJ-BETA';    -- Frank's West Coast tour + rejected dinners
UPDATE projects SET spent_amount = 557.15  WHERE code = 'PROJ-GAMMA';   -- Emma's December expenses (project lines)
UPDATE projects SET spent_amount = 1580.00 WHERE code = 'PROJ-DEVOPS';  -- David's team offsite
UPDATE projects SET spent_amount = 3215.80 WHERE code = 'PROJ-SUMMIT';  -- Frank's summit expenses
UPDATE projects SET spent_amount = 1845.00 WHERE code = 'PROJ-DELTA';   -- Frank's PFG closeout trip
